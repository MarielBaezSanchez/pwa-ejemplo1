<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi primera PWA</title>
    
    <link rel="manifest" href="./manifest.json">
     <link rel="apple-touch-icon" href="/icons/icon-192x192.png">

    <meta name="theme-color" content="#2196f3">

</head>
<body>

    <h1>Bienvenidos(as) a mi PWA</h1>
    <h2>¿cómo estás?</h2>
    <p>Se puede instalar </p>

    <button onclick="alert('Hola desde la PWA')"> Clickea aquí </button>

    <ul>
        <li><a href="/pwa-ejemplo1/index.html">Inicio</li>
            <li><a href="/pwa-ejemplo1/login.html">Iniciar sesion</li>
    </ul>

    <script>
    if("serviceWorker" in navigator){
        // CAMBIO: Forzamos el 'scope' para asegurar que el SW controle toda la carpeta del proyecto
        navigator.serviceWorker.register("/pwa-ejemplo1/sw.js", {
            scope: "/pwa-ejemplo1/" 
        })
        .then(reg => console.log("Service Worker registrado con alcance correcto"))
        .catch(err => console.log("Error al registrar el Service Worker", err));
    }
</script>
</body>
</html>